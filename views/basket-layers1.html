<!DOCTYPE html>  
<head>
</head>

<body style="background-color: #F8F8F8">

<div id="block-div" style="width:800px; height:400px">

</div>

    <script src="http://mapbox.com/wax/dist/modestmaps.js" type="text/javascript"></script> 
    <script src="http://mapbox.com/microsite-example/layerswitcher/wax/ext/modestmaps.min.js" type="text/javascript"></script>
    <!-- <script src="http://mapbox.com/wax/js/ender.js" type="text/javascript"></script> -->
    <script src="http://mapbox.com/microsite-example/layerswitcher/wax/dist/wax.mm.js" type="text/javascript"></script>

    <script src='http://mapbox.com/wax/dist/leaflet.js' type='text/javascript'></script>
    <script src='http://mapbox.com/wax/dist/wax.leaf.min.js' type='text/javascript'></script>
    <link href="http://mapbox.com/wax/css/leaflet.css" rel="stylesheet">  

<script type="text/javascript">
    // Alias com.modestmaps to mm. This isn't necessary -
    // just nice for shorter code.
    var mm = com.modestmaps;
    var wxm = wax.mm;

    var urlBlocks =
[
  { 'block': 'block 1', 'noData': true },
  { 'block': 'block 2'},
  { 'block': 'block 3' },
  { 'block': 'block 4' },
  { 'block': 'block 5' },
  { 'block': 'block 6' },
  { 'block': 'block 7' },
  { 'block': 'block 8', 'noData': true },
  { 'block': 'block 9' },
  { 'block': 'block 10' },
  { 'block': 'block 11' },
  { 'block': 'block 12' }
    ];

    //var urlBlockBase = 'http://opmilld.no.de/v2/tt-underserved-comm-blocks-base.json';
    var urlBlockBaseSrc = 'http://opmilld.no.de/v2/tt-underserved-comm-blocks-base';

    var map;

    var map = new L.Map('block-div');

    var llCenter = new L.LatLng(10.4, -61.3);

    // create a CloudMade tile layer (or use other provider of your choice)
    var lyrBlockBase = new L.TileLayer(urlBlockBaseSrc+'/{z}/{x}/{y}.png', { maxZoom: 18 });
    //map.addLayer(lyrBlockBase).setView(llCenter, 9);

    var group = new L.LayerGroup();
    group.addLayer(lyrBlockBase);
    var num = urlBlocks.length;
    num = 4;
    for (var i = 0; i < num; i++) {
        if (urlBlocks[i].noData) {
            continue;
        }
        //var urlBlo = 'http://opmilld.no.de/v2/tt-underserved-comm-blocks-' + (i + 1) + '.json';
        var urlBlo = 'http://opmilld.no.de/v2/tt-underserved-comm-blocks-' + (i + 1) + '/{z}/{x}/{y}.png';
        var lyrBlo = new L.TileLayer(urlBlo, { maxZoom: 18 });
        group.addLayer(lyrBlo);
        
    }

    map.addLayer(group).setView(llCenter, 9);

</script>
</body>

</html>
